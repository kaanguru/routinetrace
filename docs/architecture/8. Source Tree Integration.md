8. Source Tree Integration
To maintain clarity and consistency with the existing project, all new files related to the offline-first enhancement will be organized into logical, dedicated directories within the src/ folder.

Existing Project Structure (Relevant Snippet)
This is a simplified view of the existing source tree to provide context for the new additions.

Plaintext

src/
├── app/              # Application screens/routes (from Expo Router)
├── components/       # Reusable UI components
├── hooks/            # Custom React hooks
├── utils/            # Utility functions
└── ...               # Other existing directories
New File Organization
The following folders and files will be added to the src/ directory.

Plaintext

src/
├── app/
├── components/
├── context/          # New folder for React Context Providers
│   └── DatabaseProvider.tsx  # New: Provides the DB instance to the app.
├── database/         # New folder for all WatermelonDB code
│   ├── models/       # New: For WatermelonDB model definitions (e.g., Task.ts)
│   ├── index.ts      # New: Main DB initialization and export.
│   └── schema.ts     # New: WatermelonDB schema definition.
├── hooks/
│   └── useNetworkStatus.ts # New: Hook to detect online/offline state.
├── services/         # New folder for standalone services
│   └── syncService.ts  # New: Handles all Supabase communication.
└── utils/
Integration Guidelines
File Naming: New files will follow the existing project's convention (e.g., camelCase for files, PascalCase for components and models).

Folder Organization: The new database/, services/, and context/ directories create a clear separation of concerns, ensuring that the offline logic is well-organized and decoupled from the UI and existing utilities.

Import/Export Patterns: The new modules will use standard ES module import/export syntax, consistent with the existing codebase.